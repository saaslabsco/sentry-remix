{"version":3,"file":"browserTracingIntegration.js","sources":["../../../src/client/browserTracingIntegration.ts"],"sourcesContent":["import { browserTracingIntegration as originalBrowserTracingIntegration } from '@sentry/react';\nimport type { Integration } from '@sentry/types';\nimport { setGlobals, startPageloadSpan } from './performance';\nimport type { RemixBrowserTracingIntegrationOptions } from './performance';\n/**\n * Creates a browser tracing integration for Remix applications.\n * This integration will create pageload and navigation spans.\n */\nexport function browserTracingIntegration(options: RemixBrowserTracingIntegrationOptions): Integration {\n  const { instrumentPageLoad = true, instrumentNavigation = true, useEffect, useLocation, useMatches } = options;\n\n  setGlobals({\n    useEffect,\n    useLocation,\n    useMatches,\n    instrumentNavigation,\n  });\n\n  const browserTracingIntegrationInstance = originalBrowserTracingIntegration({\n    ...options,\n    instrumentPageLoad: false,\n    instrumentNavigation: false,\n  });\n\n  return {\n    ...browserTracingIntegrationInstance,\n    afterAllSetup(client) {\n      browserTracingIntegrationInstance.afterAllSetup(client);\n\n      if (instrumentPageLoad) {\n        startPageloadSpan(client);\n      }\n    },\n  };\n}\n"],"names":["setGlobals","originalBrowserTracingIntegration","startPageloadSpan"],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACO,SAAS,yBAAyB,CAAC,OAAO,EAAsD;AACvG,EAAE,MAAM,EAAE,kBAAA,GAAqB,IAAI,EAAE,oBAAqB,GAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,UAAW,EAAA,GAAI,OAAO,CAAA;AAChH;AACA,EAAEA,sBAAU,CAAC;AACb,IAAI,SAAS;AACb,IAAI,WAAW;AACf,IAAI,UAAU;AACd,IAAI,oBAAoB;AACxB,GAAG,CAAC,CAAA;AACJ;AACA,EAAE,MAAM,iCAAA,GAAoCC,+BAAiC,CAAC;AAC9E,IAAI,GAAG,OAAO;AACd,IAAI,kBAAkB,EAAE,KAAK;AAC7B,IAAI,oBAAoB,EAAE,KAAK;AAC/B,GAAG,CAAC,CAAA;AACJ;AACA,EAAE,OAAO;AACT,IAAI,GAAG,iCAAiC;AACxC,IAAI,aAAa,CAAC,MAAM,EAAE;AAC1B,MAAM,iCAAiC,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;AAC7D;AACA,MAAM,IAAI,kBAAkB,EAAE;AAC9B,QAAQC,6BAAiB,CAAC,MAAM,CAAC,CAAA;AACjC,OAAM;AACN,KAAK;AACL,GAAG,CAAA;AACH;;;;"}